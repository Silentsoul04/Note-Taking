#### 高级语言的运行机制

计算机高级语言按照程序的执行方式可以分成编译型和解释型。

**编译型语言**是指使用专门的编译器，针对特定平台（操作系统）将某种高级语言源代码一次性“翻译”成可被该平台硬件执行的机器码（包括及其指令和操作数），并包装成该平台所能识别的可执行性程序格式，这种转换过程称作**编译**（Compile）。编译生成的可执行程序可以脱离开发环境，在特定的平台上独立运行。

有些程序编译结束后，还坑需要对其他编译好的目标代码进行**链接**，即组装两个以上的目标代码模块生成最终的可执行程序，通过这种方式实现低层次的代码复用。

因为编译型语言是一次性的编译成机器码，所以可以脱离开发环境独立运行，而且通常运行效率较高；但因为编译型语言的程序被编译成特定平台上的机器码，因此编译生成的可执行性程序通常无法移植到其他平台；如果需要移植，则必须将源代码复制到特定平台，并针对该平台进行修改，使用该平台的编译器重新编译。

**解释型语言**是指使用专门的解释器对源程序逐行解释成平台的机器码并立即执行的语言。解释型语言通常不会进行整体性的编译和连接处理，相当于把编译型语言中的编译和解释过程混合到一起，同时完成。

每次运行解释型语言都要进行一次编译，因此解释型语言通常运行效率较低，并且不能脱离解释器独立运行。不过，跨平台比较容易，只需要提供特定平台的解释器即可。

![](https://note-taking-1258869021.cos.ap-beijing.myqcloud.com/Java/begin%201.png)

***

#### Java 程序的运行机制和JVM

Java语言比较特殊，由Java语言编写的程序需要经过编译步骤，但这个编译步骤并不会生成特定平台的机器码，而是生成一种与平台无关的字节码(.class文件)。当然，这种字节码不是可执行的，必须使用java解释器来执行。 因此，Java 语言既不是纯粹的编译型语言，也不是纯粹的解释型语言。**Java 程序的执行必须经过先编译，后解释两个步骤。**

Java语言里负责解释执行字节码文件的是JVM（Java Virtual Machine）。所有平台上的JVM向编译器提供相同的编程接口，而编译器只需要面向虚拟机，生成虚拟机能理解的代码，然后虚拟机来解释执行。

当使用Java编译器编译Java程序时，生成与平台无关的字节码，这些字节码不面向任何具体的平台，只面向JVM。不同平台上JVM都是不同的，但他们都提供了相同的接口。**JVM是Java程序跨平台的关键部分，只要为不同平台实现了相应的虚拟机，编译后的Java字节码就可以在该平台上运行。** 显然，相同的字节码程序需要在不同的平台上运行，这几乎是不可能的，只有通过中间的转换器才可以实现，JVM就是这个转化器。 

JVM是一个抽象的计算机，和实际的计算机一样，它具有指令集并使用不同的存取区域。它负责执行指令，还要管理数据，内存和寄存器。